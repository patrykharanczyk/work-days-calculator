<form fxLayout="column" fxLayoutGap="20px" [formGroup]="workDaysForm" class="work-days-form" novalidate>   
  <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="20px">
    <mat-card fxFlex="100%">
      <mat-card-subtitle>Parametry wej≈õciowe:</mat-card-subtitle>
      <mat-form-field class="full-width">
        <input matInput [matDatepicker]="picker0" formControlName="minDate" placeholder="Pocztek okresu obliczenia (DD/MM/YYYY)" (ngModelChange)="calculateWorkDaySum()">
        <mat-datepicker-toggle matSuffix [for]="picker0"></mat-datepicker-toggle>
        <mat-datepicker #picker0></mat-datepicker>
      </mat-form-field>
    </mat-card>
  </div>
  <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="20px">
    <mat-card class="scrollable-list" fxFlex="60%">
      <mat-card-subtitle>Okresy przepracowane:</mat-card-subtitle>
      <mat-card-content>
        <div formArrayName="workDates" *ngFor="let workDate of getWorkDates().controls; let i = index; last as isLast">
          <div mat-grid-list cols="3" [formGroupName]="i">
            <div fxLayout="row" fxLayoutGap="5px">
              <div fxFlex="50%">
                <mat-form-field class="full-width">
                  <input matInput [matDatepicker]="picker1" formControlName="dateFrom" (ngModelChange)="((isLast) ? lastDateEntered() : null) || calculateWorkDaySum()" placeholder="Data od (DD/MM/YYYY)">
                  <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                  <mat-datepicker #picker1></mat-datepicker>
                </mat-form-field>
              </div>
              
              <div fxFlex="50%">
                <mat-form-field class="full-width">
                  <input matInput [matDatepicker]="picker2" formControlName="dateTo" (ngModelChange)="((isLast) ? lastDateEntered() : null) || calculateWorkDaySum()" placeholder="Data do (DD/MM/YYYY)">
                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                  <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
              </div>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
    <mat-card class="scrollable-list" fxFlex="40%">
      <mat-card-subtitle>Suma w danym okresie:</mat-card-subtitle>
      <mat-card-content>
        <div fxLayout="row" fxLayoutGap="5px" formArrayName="workDates" *ngFor="let workDate of getWorkDates().controls; let i = index; last as isLast">
            <mat-form-field fxFlex="50%" *ngIf="!isLast">
              <input disabled="disabled" [value]="workDaysForm.valid ? getPeriod(workDaysForm.controls.workDates.controls[i].controls.dateFrom.value, workDaysForm.controls.workDates.controls[i].controls.dateTo.value) : null" matInput placeholder="Suma dni wprowadzonych">
            </mat-form-field>
            <mat-form-field fxFlex="50%" *ngIf="!isLast">
              <input disabled="disabled" [value]="workDaysForm.valid ? getPeriodFromMin(workDaysForm.controls.workDates.controls[i].controls.dateFrom.value, workDaysForm.controls.workDates.controls[i].controls.dateTo.value) : null" matInput placeholder="Suma dni w zakresie">
            </mat-form-field>
          </div>
      </mat-card-content>
    </mat-card>
  </div>
  <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="20px">
    <div fxFlex="60%"></div>
    <mat-card fxFlex="40%">
      <mat-card-subtitle>Razem:</mat-card-subtitle>
      <mat-card-content fxLayout="row" fxLayoutGap="5px" >
        <mat-form-field fxFlex="50%">
          <input disabled="disabled" [value]="workDaysForm.valid ? workDaySum : null" matInput placeholder="Suma dni wprowadzonych">
        </mat-form-field>
        <mat-form-field fxFlex="50%">
          <input disabled="disabled" [value]="workDaysForm.valid ? fromMinDaySum : null" matInput placeholder="Suma dni w zakresie">
        </mat-form-field>
      </mat-card-content>
    </mat-card>
  </div>
</form>
  